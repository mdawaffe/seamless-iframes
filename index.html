<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<title>iframe[seamless]</title>
<style>
body {
	font-family: monospace;
	background-color: #eee;
}
h1 {
	color: red;
}
p {
	color: blue;
}
a {
	color: purple;
}
div.foo p {
	color: green;
}
#something {
	background-color: #000;
	color: #fff;
}
.inner h1 {
	color: orange;
}
iframe {
	height: 20em;
	width: 100%;
	background-color: transparent;
}
</style>
</head>
<body>

<h1>Seamless Iframes</h1>

<button id="doit">Make Seamless</button>

<h2>Iframe:</h2>

<iframe seamless class="inner" src="./iframe.html">
	<h1>Test</h1>
	<p>Hi</p>
	<a href="#">Test</a>
	<p id="something">Test</background>
	<div class="foo">
		<p>Test</p>
	</div>
</iframe>

<hr />

<h2>Equivalent "Raw" Embed:</h2>

<div class="inner">
<h1>IFRAME</h1>
<p>Hello, <a href="http://example.com">there</a>.</p>
<p id="something">Background</p>
<div class="foo">
	<p>Green?</p>
</div>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="./seamless-iframe.js"></script>
<script>
jQuery( function( $ ) {
	var dummy;

	function make_iframe_seamless() {
		var $iframe = $( 'iframe' );
		dummy = $iframe.text();
		$iframe.seamless();
		$( this ).text( 'Reset' ).one( 'click', reset_iframe );
	}

	function reset_iframe() {
		var $iframe = $( 'iframe' );
		var src = $iframe.attr( 'src' ).split( '?' )[0];
		src += '?r=' + Math.random();
		$iframe.attr( 'src', src );
		$iframe.text( dummy );
		$( this ).text( 'Make Seamless' ).one( 'click', make_iframe_seamless );
	}

	$( '#doit' ).one( 'click', make_iframe_seamless );
} );
</script>
</body>
</html>
